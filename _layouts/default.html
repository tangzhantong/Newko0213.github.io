<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">

{%- include head.html -%}

<body class="{% if page.header_style == 'white' %}page-has-hero header-white{% endif %}">
    <!-- 交互式粒子背景 -->
    <div id="canvas-wrapper"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none;">
        <canvas id="constellation-canvas"></canvas>
    </div>
    <script src="/assets/js/constellation.js"></script>

    {%- include header.html -%}

    <main class="page-content" aria-label="Content">
        <div class="wrapper">
            {{ content }}
        </div>
    </main>

    {%- include footer-custom.html -%}

    <!-- 滚动揭示动画 -->
    <script src="/assets/js/scroll-reveal.js"></script>
    <!-- Gallery Lightbox -->
    <script src="/assets/js/lightbox.js"></script>

</body>
<style>
    /* =========================================================================
       全局智能颜色管理系统 (Smart Color & Cursor System)
       ========================================================================= */

    :root {
        --cursor-dark: default;
        --cursor-light: url('data:image/svg+xml;utf8,<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3.5L16.5 28.5L20.5 19.5L28.5 28.5L30.5 26.5L22.5 17.5L30.5 15.5L5.5 3.5Z" fill="white" stroke="black" stroke-width="1"/></svg>') 2 2, auto;
        --font-primary: 'Inter', 'Helvetica Neue', Arial, sans-serif;
    }

    body {
        background-color: #ffffff;
        color: #333333;
        cursor: var(--cursor-dark);
        font-family: var(--font-primary);
    }

    a {
        color: #333333;
        text-decoration: none;
        cursor: pointer;
    }

    .hero-banner,
    .hero-wrapper {
        color: #ffffff !important;
        cursor: var(--cursor-light) !important;
    }

    .hero-banner *,
    .hero-wrapper * {
        color: #ffffff !important;
        fill: #ffffff !important;
        border-color: rgba(255, 255, 255, 0.8) !important;
    }

    .hero-banner a:hover {
        opacity: 0.8;
    }

    .page-content,
    .content-container,
    .research-section,
    .gallery-container,
    .code-container,
    .protocol-container,
    .member-container {
        color: #333333 !important;
        cursor: var(--cursor-dark) !important;
    }

    .page-content a:not(.btn),
    .content-container a:not(.btn) {
        color: #000000 !important;
    }

    /* Footer 内的颜色恢复 */
    .custom-footer,
    .custom-footer * {
        color: inherit !important;
        fill: inherit !important;
    }

    .custom-footer .footer-social svg {
        fill: #999 !important;
    }

    .custom-footer .footer-social a:hover svg.twitter {
        fill: #000 !important;
    }

    .custom-footer .footer-social a:hover svg.youtube {
        fill: #FF0000 !important;
    }

    .custom-footer .footer-social a:hover svg.orcid {
        fill: #A6CE39 !important;
    }

    .custom-footer .footer-social a:hover svg.instagram {
        fill: #E1306C !important;
    }
</style>

</html>